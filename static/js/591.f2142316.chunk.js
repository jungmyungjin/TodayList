"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[591],{8266:function(t,e,a){a.r(e),a.d(e,{default:function(){return X}});var n=a(2791),o=a(3433),s=a(4165),c=a(5861),i=a(9439),r=a(9779),d=a(4610),u=a(1413),l="Todo_Layout__mTbJz",_="Todo_Todo__2foO8",f="Todo_CheckLayout__Hunud",v="Todo_Check__e6UkY",m="Todo_Contents__um-JE",x="Todo_AddIcon__8Zn8t",g="Todo_Checked__pjuD2",y="Todo_DeleteIcon__Sxtm7",N="Todo_MainLayout__Gzu76",h="Todo_SubTodoLayout__KUOg3";var j=a.p+"static/media/Add.2e057c937cde237bffe24db3293bb7a2.svg";var D=a.p+"static/media/Cancel.f9966b31a1d78a4535181da5dc311446.svg";var p=a.p+"static/media/Check.94595b84c9989d93fa01e55d5612fc28.svg",T=a(5330),Z=(0,T.cn)({key:"todoDataState",default:[]}),k=(0,T.cn)({key:"TodoDateState",default:r.ou.now()}),S=(0,T.nZ)({key:"todoDataAllSelector",get:function(t){return(0,t.get)(Z)},set:function(t,e){return(0,t.set)(Z,e)}}),b=(0,T.CG)({key:"todoDataOneSelector",get:function(t){return function(e){return(0,e.get)(Z)[t]}},set:function(t){return function(e,a){var n=e.get,s=e.set,c=n(Z);(c=(0,o.Z)(c))[t]=a,s(Z,c)}}}),C=a(184),O=function(t){var e=t.contents,a=void 0===e?"":e,s=t.type,c=void 0===s?"MAIN":s,O=t.status,L=void 0===O?"TODO":O,w=t.idx,A=(0,n.useState)(L),J=(0,i.Z)(A,2),M=J[0],F=J[1],I=(0,n.useState)(a),E=(0,i.Z)(I,2),z=E[0],U=E[1],V=(0,T.sJ)(Z),H=(0,T.sJ)(k),R=(0,T.FV)(S),B=(0,i.Z)(R,2),G=B[0],K=B[1],P=(0,T.FV)(b(w)),Y=(0,i.Z)(P,2),q=Y[0],Q=Y[1];(0,n.useEffect)((function(){U(a),F(L),localStorage.setItem("todoData",JSON.stringify(V))}),[V]);return(0,C.jsxs)("div",{className:"".concat(l," ").concat("MAIN"===c?N:h," ").concat("TODO"===M?"":g),children:[(0,C.jsxs)("div",{className:"".concat(_),children:[(0,C.jsxs)("div",{className:"".concat(f),onClick:function(t){var e="TODO"===M?"CHECKED":"TODO";F(e),Q((function(t){return(0,u.Z)((0,u.Z)({},t),{},{status:e})}))},children:[(0,C.jsx)("div",{className:"".concat(v)}),(0,C.jsx)("img",{src:p,alt:"checked"})]}),(0,C.jsx)("input",{value:z,className:m,onChange:function(t){U(t.target.value),Q((function(e){return(0,u.Z)((0,u.Z)({},e),{},{contents:t.target.value})}))}}),(0,C.jsx)("div",{className:x,onClick:function(t){var e={todo_id:(0,d.v4)(),user_email:q.user_email,parents_id:q.todo_id,contents:"",status:"TODO",date:H.toFormat("yyyy-MM-dd"),createdAt:r.ou.now().toString(),updatedAt:r.ou.now().toString()},a=[].concat((0,o.Z)(G.slice(0,w+1)),[e],(0,o.Z)(G.slice(w+1)));K(a)},children:(0,C.jsx)("img",{src:j,alt:""})})]}),(0,C.jsx)("div",{className:y,onClick:function(t){var e=[].concat((0,o.Z)(G.slice(0,w)),(0,o.Z)(G.slice(w+1)));K(e)},children:(0,C.jsx)("img",{src:D,alt:""})})]})},L="TodoList_Layout__NU6oY",w="TodoList_TodoList__Plui+",A="TodoList_AddTodo__zCPbZ",J="TodoList_SaveTodo__DwQez",M="TodoList_Line__EH34a",F=a(3737),I=a(5508),E=a(455);var z=a.p+"static/media/Save.43a3bbb2afeaf18af197aea3c7409e0b.svg",U=function(){var t=(0,T.FV)(I.C),e=(0,i.Z)(t,2),a=e[0],u=(e[1],(0,T.FV)(S)),l=(0,i.Z)(u,2),_=l[0],f=l[1],v=(0,T.sJ)(Z),m=(0,T.sJ)(E.x),x=(0,T.sJ)(k);(0,n.useEffect)((function(){var t=function(){var t=(0,c.Z)((0,s.Z)().mark((function t(){var e,n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=localStorage.getItem("todoData"),!a.isLogin){t.next=8;break}return t.next=4,(0,F.g6)(x);case 4:n=t.sent,f(n),t.next=9;break;case 8:e&&f(JSON.parse(e));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[m,x]);return(0,C.jsxs)("div",{className:L,children:[a.isLogin&&(0,C.jsx)("div",{className:J,children:(0,C.jsx)("button",{onClick:function(t){var e=localStorage.getItem("todoData")||"";(0,F.h0)(JSON.parse(e),x)},children:(0,C.jsx)("img",{src:z,alt:"save"})})}),(0,C.jsx)("div",{className:M}),(0,C.jsxs)("div",{className:w,children:[v.map((function(t,e){var a=t.parents_id?"SUB":"MAIN";return(0,C.jsx)(O,{idx:e,type:a,contents:t.contents,status:t.status},e)})),(0,C.jsx)("div",{className:A,onClick:function(t){var e={todo_id:(0,d.v4)(),user_email:a.email,parents_id:null,contents:"",status:"TODO",date:x.toFormat("yyyy-MM-dd"),createdAt:r.ou.now().toString(),updatedAt:r.ou.now().toString()},n=(0,o.Z)(_);n.push(e),f(n)},children:(0,C.jsx)("img",{src:j,alt:"add todo"})})]})]})},V=a(8914),H="NearbyDates_Layout__esc-R",R="NearbyDates_DatesLayoutSection__UpBRC",B="NearbyDates_NearbyDatesLayout__jqdlR",G=(0,T.nZ)({key:"todoDateSelector",get:function(t){return(0,t.get)(k)},set:function(t,e){return(0,t.set)(k,e)}}),K="NearDate_NearDate__+JXgr",P="NearDate_title__zry2D",Y="NearDate_date__xncW5",q="NearDate_SelectedDate__5i2fE",Q=function(t){var e=t.datetime,a=t.title,n=void 0===a?" ":a,o=(0,T.FV)(G),s=(0,i.Z)(o,2),c=s[0],r=s[1];return(0,C.jsxs)("div",{className:c===e?"".concat(K," ").concat(q):K,onClick:function(t){r(e)},children:[(0,C.jsx)("div",{className:P,children:n}),(0,C.jsxs)("div",{className:Y,children:[e.month,"/",e.day]})]})},W=function(){var t=r.ou.now(),e=[t.minus({days:2}),t.minus({days:1}),t,t.plus({days:1}),t.plus({days:2})],a=Math.ceil(e.length/2)-1;return(0,C.jsx)("div",{className:H,children:(0,C.jsx)("div",{className:R,children:(0,C.jsx)("div",{className:B,children:e.map((function(t,e){return(0,C.jsx)(Q,{datetime:t,title:e===a?"today":" "},e)}))})})})},X=function(){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(V.Z,{}),(0,C.jsx)(W,{}),(0,C.jsx)(U,{})]})}}}]);
//# sourceMappingURL=591.f2142316.chunk.js.map
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[863],{914:function(t,e,n){n.d(e,{Z:function(){return f}});var a=n(165),o=n(861),r=n(439),s=n(791),c=n(87),i={LayoutHeader:"Header_LayoutHeader__5+e23",LayoutLogo:"Header_LayoutLogo__GLQtR",LogoIcon:"Header_LogoIcon__WhxL6",LogoText:"Header_LogoText__m1Fht",LayoutLogin:"Header_LayoutLogin__qhJzU",LoginText:"Header_LoginText__vWNlZ",LoginIcon:"Header_LoginIcon__XPn9E",LogoutIcon:"Header_LogoutIcon__DGNRZ",horizontalShaking:"Header_horizontalShaking__o0Df+"};var u=n.p+"static/media/Pen.e4e8cb2fa9140c7c24780332b817a94a.svg";var d=n.p+"static/media/User.49db7e2a8b2815411dff6a67a49eaf2b.svg";var l=n.p+"static/media/Logout.462b161b7f3916f11c3b75efefa920d0.svg",_=n(495),p=n(184),f=function(){var t=(0,s.useState)(""),e=(0,r.Z)(t,2),n=e[0],f=e[1];(0,s.useEffect)((function(){(0,o.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,_.CS)();case 3:e=t.sent,f(e.full_name),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[]);return(0,p.jsxs)("div",{className:i.LayoutHeader,children:[(0,p.jsxs)(c.rU,{to:"".concat("/TodayList"),className:i.LayoutLogo,children:[(0,p.jsx)("img",{className:i.LogoIcon,src:u,alt:""}),(0,p.jsx)("div",{className:"".concat(i.LogoText," ").concat(i.Text),children:"Today list"})]}),n&&(0,p.jsxs)(c.rU,{to:"".concat("/TodayList"),className:i.LayoutLogin,children:[(0,p.jsxs)("div",{className:i.LoginText,children:["hello, ",n]}),(0,p.jsx)("img",{className:i.LoginIcon,src:l,alt:"logout",onClick:function(){(0,_.g_)(),window.location.replace("".concat("/TodayList"))}})]}),!n&&(0,p.jsxs)(c.rU,{to:"".concat("/TodayList","/signIn"),className:i.LayoutLogin,children:[(0,p.jsx)("div",{className:i.LoginText,children:"\ub85c\uadf8\uc778"}),(0,p.jsx)("img",{className:i.LoginIcon,src:d,alt:"login"})]})]})}},863:function(t,e,n){n.r(e),n.d(e,{default:function(){return M}});var a=n(791),o=n(433),r=n(439),s=n(779),c=n(413),i="Todo_Layout__mTbJz",u="Todo_Todo__2foO8",d="Todo_CheckLayout__Hunud",l="Todo_Check__e6UkY",_="Todo_Contents__um-JE",p="Todo_AddIcon__8Zn8t",f="Todo_Checked__pjuD2",h="Todo_DeleteIcon__Sxtm7",v="Todo_MainLayout__Gzu76",g="Todo_SubTodoLayout__KUOg3";var m=n.p+"static/media/Add.2e057c937cde237bffe24db3293bb7a2.svg";var x=n.p+"static/media/Cancel.f9966b31a1d78a4535181da5dc311446.svg";var L=n.p+"static/media/Check.94595b84c9989d93fa01e55d5612fc28.svg",y=n(330),T=(0,y.cn)({key:"todoDataState",default:[]}),Z=(0,y.nZ)({key:"todoDataAllSelector",get:function(t){return(0,t.get)(T)},set:function(t,e){return(0,t.set)(T,e)}}),N=(0,y.CG)({key:"todoDataOneSelector",get:function(t){return function(e){return(0,e.get)(T)[t]}},set:function(t){return function(e,n){var a=e.get,r=e.set,s=a(T);(s=(0,o.Z)(s))[t]=n,r(T,s)}}}),j=n(184),b=function(t){var e=t.contents,n=void 0===e?"":e,b=t.type,D=void 0===b?"MAIN":b,k=t.status,C=void 0===k?"TODO":k,w=t.idx,O=(0,a.useState)(C),S=(0,r.Z)(O,2),A=S[0],I=S[1],H=(0,a.useState)(n),E=(0,r.Z)(H,2),U=E[0],J=E[1],z=(0,y.sJ)(T),R=(0,y.FV)(Z),F=(0,r.Z)(R,2),M=F[0],G=F[1],B=(0,y.FV)(N(w)),K=(0,r.Z)(B,2),P=K[0],X=K[1];(0,a.useEffect)((function(){J(n),I(C),localStorage.setItem("todoData",JSON.stringify(z))}),[z]);return(0,j.jsxs)("div",{className:"".concat(i," ").concat("MAIN"===D?v:g," ").concat("TODO"===A?"":f),children:[(0,j.jsxs)("div",{className:"".concat(u),children:[(0,j.jsxs)("div",{className:"".concat(d),onClick:function(t){var e="TODO"===A?"CHECKED":"TODO";I(e),X((function(t){return(0,c.Z)((0,c.Z)({},t),{},{status:e})}))},children:[(0,j.jsx)("div",{className:"".concat(l)}),(0,j.jsx)("img",{src:L,alt:"checked"})]}),(0,j.jsx)("input",{value:U,className:_,onChange:function(t){J(t.target.value),X((function(e){return(0,c.Z)((0,c.Z)({},e),{},{contents:t.target.value})}))}}),(0,j.jsx)("div",{className:p,onClick:function(t){var e={id:null,user_id:null,parents_id:P.id,contents:"",status:"TODO",order:null,createdAt:s.ou.now().toString(),updatedAt:s.ou.now().toString()},n=[].concat((0,o.Z)(M.slice(0,w+1)),[e],(0,o.Z)(M.slice(w+1)));G(n)},children:(0,j.jsx)("img",{src:m,alt:""})})]}),(0,j.jsx)("div",{className:h,onClick:function(t){var e=[].concat((0,o.Z)(M.slice(0,w)),(0,o.Z)(M.slice(w+1)));G(e)},children:(0,j.jsx)("img",{src:x,alt:""})})]})},D="TodoList_Layout__NU6oY",k="TodoList_TodoList__Plui+",C="TodoList_AddTodo__zCPbZ",w=n(495),O=function(){var t=(0,w.ip)(),e=(0,y.FV)(Z),n=(0,r.Z)(e,2),c=n[0],i=n[1],u=(0,y.sJ)(T);(0,a.useEffect)((function(){var e=localStorage.getItem("todoData");e&&0!==e.length?i(JSON.parse(e)):(i(t),localStorage.setItem("todoData",JSON.stringify(t)))}),[]);return(0,j.jsx)("div",{className:D,children:(0,j.jsxs)("div",{className:k,children:[u.map((function(t,e){var n=t.parents_id?"SUB":"MAIN";return(0,j.jsx)(b,{idx:e,type:n,contents:t.contents,status:t.status},e)})),(0,j.jsx)("div",{className:C,onClick:function(t){var e={id:c.length+1,user_id:null,parents_id:null,contents:"",status:"TODO",order:c.length+1,createdAt:s.ou.now().toString(),updatedAt:s.ou.now().toString()},n=(0,o.Z)(c);n.push(e),i(n)},children:(0,j.jsx)("img",{src:m,alt:""})})]})})},S=n(914),A="NearbyDates_Layout__esc-R",I="NearbyDates_DatesLayoutSection__UpBRC",H="NearbyDates_NearbyDatesLayout__jqdlR",E="NearbyDates_Line__aBGNJ",U="NearDate_NearDate__+JXgr",J="NearDate_title__zry2D",z="NearDate_date__xncW5",R=function(t){var e=t.datetime,n=t.title,a=void 0===n?" ":n;return(0,j.jsxs)("div",{className:U,children:[(0,j.jsx)("div",{className:J,children:a}),(0,j.jsxs)("div",{className:z,children:[e.month,"/",e.day]})]})},F=function(){var t=s.ou.now(),e=[t.minus({days:2}),t.minus({days:1}),t,t.plus({days:1}),t.plus({days:2})],n=Math.ceil(e.length/2)-1;return(0,j.jsx)("div",{className:A,children:(0,j.jsxs)("div",{className:I,children:[(0,j.jsx)("div",{className:H,children:e.map((function(t,e){return(0,j.jsx)(R,{datetime:t,title:e===n?"today":" "},e)}))}),(0,j.jsx)("div",{className:E})]})})},M=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(S.Z,{}),(0,j.jsx)(F,{}),(0,j.jsx)(O,{})]})}},495:function(t,e,n){n.d(e,{CS:function(){return v},Fl:function(){return f},XB:function(){return d},eM:function(){return m},g_:function(){return _},ip:function(){return u}});var a=n(165),o=n(413),r=n(861),s=n(243),c=[{id:1,user_id:1,parents_id:null,contents:"\ubc31\uc5d4\ub4dc \ub9c8\ubb34\ub9ac",status:"TODO",order:1,createdAt:"2023-07-05T00:00:00.000Z",updatedAt:"2023-07-05T00:00:00.000Z"},{id:2,user_id:1,parents_id:null,contents:"\uc77c\ucc0d \uc77c\uc5b4\ub098\uae30",status:"CHECKED",order:2,createdAt:"2023-07-21T08:07:25.000Z",updatedAt:"2023-07-21T08:07:25.000Z"},{id:3,user_id:1,parents_id:null,contents:"\uc77c\ucc0d \uc77c\uc5b4\ub098\uae30",status:"TODO",order:2,createdAt:"2023-07-21T08:09:30.000Z",updatedAt:"2023-07-21T08:09:30.000Z"},{id:4,user_id:1,parents_id:3,contents:"\uc77c\ucc0d \uc790\uae30",status:"TODO",order:2,createdAt:"2023-07-21T08:09:49.000Z",updatedAt:"2023-07-21T08:09:49.000Z"},{id:4,user_id:1,parents_id:3,contents:" \uc804\ub0a0 \uc77c\ucc0d \uc800\ub141 \uba39\uae30",status:"CHECKED",order:2,createdAt:"2023-07-21T08:09:49.000Z",updatedAt:"2023-07-21T08:09:49.000Z"}],i=s.Z.create({baseURL:"".concat("http://localhost:8000","/api"),timeout:1e3,withCredentials:!0});s.Z.create({baseURL:"".concat("http://localhost:8000","/api"),timeout:1e3,withCredentials:!0});function u(){return c}function d(t){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.post("/auth/login",(0,o.Z)({},e));case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),console.log("Failed to login",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function _(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.delete("/auth/logout");case 3:return e=t.sent,t.abrupt("return",e);case 7:throw t.prev=7,t.t0=t.catch(0),console.log("Logout Error",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function f(t){return h.apply(this,arguments)}function h(){return(h=(0,r.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.post("/auth/join",e);case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function v(){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)((0,a.Z)().mark((function t(){var e,n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.get("/auth/user");case 3:return e=t.sent,t.next=6,null===e||void 0===e?void 0:e.data;case 6:return n=t.sent,t.abrupt("return",n);case 10:throw t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function m(){var t="".concat("http://localhost:8000","/api/auth/kakao"),e="https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=".concat("6cc06c72534bb75de5a9d7b805108c88","&redirect_uri=").concat(t,"&prompt=none"),n=new XMLHttpRequest;n.open("GET",e,!0),n.withCredentials=!0,n.send()}}}]);
//# sourceMappingURL=863.9a80aa1b.chunk.js.map
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[914],{8914:function(t,e,n){n.d(e,{Z:function(){return v}});var r=n(4165),a=n(5861),o=n(9439),c=n(2791),u=n(1087),s={LayoutHeader:"Header_LayoutHeader__5+e23",LayoutLogo:"Header_LayoutLogo__GLQtR",LogoIcon:"Header_LogoIcon__WhxL6",LogoText:"Header_LogoText__m1Fht",LayoutLogin:"Header_LayoutLogin__qhJzU",LoginText:"Header_LoginText__vWNlZ",LoginIcon:"Header_LoginIcon__XPn9E",LogoutIcon:"Header_LogoutIcon__DGNRZ",horizontalShaking:"Header_horizontalShaking__o0Df+"};var i=n.p+"static/media/Pen.e4e8cb2fa9140c7c24780332b817a94a.svg";var l=n.p+"static/media/User.49db7e2a8b2815411dff6a67a49eaf2b.svg";var p=n.p+"static/media/Logout.462b161b7f3916f11c3b75efefa920d0.svg",f=n(3737),d=n(5508),h=n(5330),g=n(184),v=function(){var t=(0,h.FV)(d.C),e=(0,o.Z)(t,2),n=e[0],v=e[1];(0,c.useEffect)((function(){(0,a.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,f.CS)();case 3:return e=t.sent,t.next=6,v({isLogin:!0,email:e.email,full_name:e.full_name});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[]);var L=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.g_)();case 2:v({isLogin:!1,email:"",full_name:""}),window.location.replace("".concat("/TodayList"));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,g.jsxs)("div",{className:s.LayoutHeader,children:[(0,g.jsxs)(u.rU,{to:"".concat("/TodayList"),className:s.LayoutLogo,children:[(0,g.jsx)("img",{className:s.LogoIcon,src:i,alt:""}),(0,g.jsx)("div",{className:"".concat(s.LogoText," ").concat(s.Text),children:"Today list"})]}),n.isLogin&&(0,g.jsxs)(u.rU,{to:"".concat("/TodayList"),className:s.LayoutLogin,children:[(0,g.jsxs)("div",{className:s.LoginText,children:["hello, ",n.full_name]}),(0,g.jsx)("img",{className:s.LoginIcon,src:p,alt:"logout",onClick:L})]}),!n.isLogin&&(0,g.jsxs)(u.rU,{to:"".concat("/TodayList","/signIn"),className:s.LayoutLogin,children:[(0,g.jsx)("div",{className:s.LoginText,children:"\ub85c\uadf8\uc778"}),(0,g.jsx)("img",{className:s.LoginIcon,src:l,alt:"login"})]})]})}},455:function(t,e,n){n.d(e,{x:function(){return r}});var r=(0,n(5330).cn)({key:"userInfoState",default:{isLogin:!1,email:"",full_name:""}})},5508:function(t,e,n){n.d(e,{C:function(){return o}});var r=n(5330),a=n(455),o=(0,r.nZ)({key:"userInfoSelector",get:function(t){return(0,t.get)(a.x)},set:function(t,e){return(0,t.set)(a.x,e)}})},3737:function(t,e,n){n.d(e,{CS:function(){return d},Fl:function(){return p},XB:function(){return u},eM:function(){return g},g6:function(){return x},g_:function(){return i},h0:function(){return v}});var r=n(4165),a=n(1413),o=n(5861),c=n(1243).Z.create({baseURL:"".concat("https://aws.duckkuri.com","/api"),timeout:1e3,withCredentials:!0});function u(t){return s.apply(this,arguments)}function s(){return(s=(0,o.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.post("/auth/login",(0,a.Z)({},e));case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),console.log("Failed to login",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function i(){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)((0,r.Z)().mark((function t(){var e;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.delete("/auth/logout");case 3:return e=t.sent,t.abrupt("return",e);case 7:throw t.prev=7,t.t0=t.catch(0),console.log("Logout Error",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function p(t){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.post("/auth/join",e);case 3:return n=t.sent,console.log(n),t.abrupt("return",n);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function d(){return h.apply(this,arguments)}function h(){return(h=(0,o.Z)((0,r.Z)().mark((function t(){var e,n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.get("/auth/user");case 3:return e=t.sent,t.next=6,null===e||void 0===e?void 0:e.data;case 6:return n=t.sent,t.abrupt("return",n);case 10:throw t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function g(){var t="".concat("https://aws.duckkuri.com","/api/auth/kakao");return"https://kauth.kakao.com/oauth/authorize?client_id=".concat("6cc06c72534bb75de5a9d7b805108c88","&redirect_uri=").concat(t,"&response_type=code")}function v(t,e){return L.apply(this,arguments)}function L(){return(L=(0,o.Z)((0,r.Z)().mark((function t(e,n){var a,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=n.toFormat("yyyy-MM-dd")||"",t.next=4,c.post("/task?date=".concat(a),e);case 4:return o=t.sent,t.abrupt("return",o);case 8:throw t.prev=8,t.t0=t.catch(0),console.log("Logout Error",t.t0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function x(t){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)((0,r.Z)().mark((function t(e){var n,a,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.toFormat("yyyy-MM-dd")||"",t.next=4,c.get("/task?date=".concat(n));case 4:return a=t.sent,t.next=7,null===a||void 0===a?void 0:a.data;case 7:return o=t.sent,t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}}}]);
//# sourceMappingURL=914.8360ca25.chunk.js.map